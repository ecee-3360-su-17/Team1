/*************************************
    Filename:   main.c

    Creator:    Daniel K Langevin
    Date:       2017

*************************************/

extern int fib(int n);
void blink(int n);

void blinkAll(int n){

    int x = n;
    int mag = 1;

    while(x > 0){
        x = x / 10;
        mag = mag * 10;
    }
    while(mag > 0){
        mag = mag / 10;
        x = n / mag;
        blink(n);
        n = n % 10;
    }
}

int main(void)
{
    int n = fib(5);
    blinkAll(n);
	return 0;
}

// Blinks the number n in Morse code.
void blink(int n){

    char pattern = num2Morse(n);
    for(int i = 0; i < 5; i++){
        int state = pattern & 0b10000;
        pattern = pattern << 1;
        // Set LED on.
        if(state == 1){
            // Wait long........
        }
        else{
            // Wait short...
        }
        // Set LED off.

    }

    // Wait extra long..............


}

// Convert n to Morse code binary.
char num2Morse(int n){

    // Converts n to a 5-bit string.
    switch(n){
        case 0: return 0b11111;
        case 1: return 0b01111;
        case 2: return 0b00111;
        case 3: return 0b00011;
        case 4: return 0b00001;
        case 5: return 0b00000;
        case 6: return 0b10000;
        case 7: return 0b11000;
        case 8: return 0b11100;
        case 9: return 0b11110;
        default return 0;
    }

}
